
# 1. SSE가 무엇인가?

## 🔍 SSE란?

### ✅ SSE(Server-Sent Events)는?

- **서버에서 클라이언트로 데이터를 실시간으로 푸시(Push)하는 방식**
- 클라이언트가 한 번 연결하면, 서버는 필요할 때마다 데이터를 계속해서 **단방향으로 전송**

---

## ⚙️ 작동 방식 요약

1. 클라이언트가 서버에 **HTTP 요청**을 보냄
2. 서버는 **HTTP 연결을 유지한 채** 데이터를 계속 전송함
3. 클라이언트는 이 데이터를 실시간으로 수신함

📌 한 번 연결되면 서버가 여러 번 데이터를 **"흘려보낼 수 있는"** 구조



# 2. Stream 형태를 지원하는 다른 방식은?

| 기술               | 실시간성  | 양방향            | 브라우저 지원                   | 복잡도 | 용도         |
| ---------------- | ----- | -------------- | ------------------------- | --- | ---------- |
| **SSE**          | 좋음    | ❌ (서버 → 클라이언트) | Chrome, Firefox, Safari 등 | 낮음  | 알림, 스트리밍 등 |
| **WebSocket**    | 매우 좋음 | ✅              | 대부분 지원                    | 중간  | 채팅, 게임     |
| **Long Polling** | 보통    | ❌              | 모든 브라우저                   | 낮음  | 구형 브라우저 지원 |
| **HTTP/2 Push**  | 제한적   | ❌              | 일부 브라우저                   | 높음  | 리소스 최적화    |
| **FCM/APNS**     | 좋음    | ❌              | 모바일/브라우저 일부               | 낮음  | 모바일 푸시 알림  |


### 1. 서버 측 (Spring Controller)

1. SSE 스트리밍을 위한 연결 생성 및 타임아웃 설정
2. 별도 스레드에서 Stream 요청
3. 응답 데이터를 콜백으로 받음
4. 받은 답변 조각을 SSE 형식으로 클라이언트에 실시간 전송
5. 클라이언트 연결 종료 시 스트리밍 중단 처리

---

### 2. 클라이언트 측 (JavaScript)

1. SSE 스트림을 요청
2. 응답 스트림 리더를 생성하여 수신 대기 시작
3. 스트림에서 데이터 청크를 순차적으로 읽음
4. 파싱된 답변 텍스트를 글자 단위 큐에 저장
5. 타이핑 애니메이션으로 글자를 화면에 출력
6. 스트림 종료 시 최종 답변 처리 및 UI 정리
7. 사용자 요청으로 인한 중지 혹은 에러 발생 시 스트림 종료 및 상태 초기화, UI 복원



[SSE(Server Sent Event) 개념 정리](https://hyuk0309.tistory.com/24)