
 **`du` (disk usage)** 명령어의 도움이에요. `ls`와 달리 `du`는 **디렉토리/파일이 실제로 차지하는 디스크 사용량**을 보여주는 도구예요.

---

## 📂 `du` 기본 개념

- **디렉토리 용량**: 하위 파일/폴더 전체를 합산한 크기
    
- **파일 용량**: 실제 파일이 디스크에서 차지하는 크기
    
- 기본 단위: 1024 bytes (1K 블록)
    

---

## 🔑 주요 옵션 정리

### 출력 형식

- `-h, --human-readable` → 읽기 쉽게 표시 (K, M, G 단위)
    
- `--si` → 1000 단위(KB, MB, GB)로 표시 (기본은 1024 단위)
    
- `-b, --bytes` → 바이트 단위 표시
    
- `-k, -m, -B SIZE` → 각각 KB, MB 단위 / 원하는 블록 크기 지정 가능
    

### 출력 제어

- `-s, --summarize` → 전체 합계만 표시 (총 용량만 확인할 때)
    
- `-c, --total` → 마지막에 총합 출력
    
- `-d N, --max-depth=N` → 디렉토리 깊이 제한 (N단계까지만 표시)
    
    - 예: `du -h --max-depth=1` → 현재 디렉토리의 하위 폴더별 용량만
        

### 파일 선택

- `-a, --all` → 파일까지 모두 표시 (기본은 디렉토리만)
    
- `-X FILE, --exclude-from=FILE` → 특정 패턴 제외 파일 목록 지정
    
- `--exclude=PATTERN` → 특정 패턴 제외 (`--exclude="*.log"` 등)
    

### 링크/심볼릭 처리

- `-L, --dereference` → 심볼릭 링크가 가리키는 실제 파일 용량 포함
    
- `-P, --no-dereference` → 심볼릭 링크 자체 크기만 (기본)
    
- `-l, --count-links` → 하드링크 파일 크기를 중복 집계
    

### 기타

- `--apparent-size` → 파일이 실제로 보이는 크기 기준 (sparse 파일 등 때문에 디스크 차지와 다를 수 있음)
    
- `-S, --separate-dirs` → 하위 디렉토리 용량을 부모 디렉토리에 합산하지 않음
    
- `-t SIZE, --threshold=SIZE` → 특정 크기 이하/이상 항목 제외
    

---

## 🌟 자주 쓰는 예시


```bash
du -sh *               # 현재 폴더 안 하위 디렉토리별 총 용량
du -sh embedding rerank # 특정 폴더 용량만 보기
du -ch                 # 전체 합계 포함 출력
```

### 현재 폴더 내 하위 디렉토리별 총 용량
```shell
du -sh *
```
```
26M     files
12G     model
```

### 현재 디렉토리 하위 depth 지정해서 용량 확인
```shell
du -h --max-depth=1 # 디렉토리
du -ah --max-depth=1 # 파일까지
```

---

✅ 정리하면

- `ls` → 파일 목록 보기
    
- `tree` → 구조 + 파일 크기 보기 (단, 디렉토리 크기는 4KB 메타데이터)
    
- `du` → **진짜 디스크 사용량** 확인
    
